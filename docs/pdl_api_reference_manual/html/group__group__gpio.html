<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSoC 4 Peripheral Driver Library - Alpha: GPIO         (General Purpose Input Output)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSoC 4 Peripheral Driver Library - Alpha</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__gpio.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a>  </div>
  <div class="headertitle">
<div class="title">GPIO (General Purpose Input Output)</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>The GPIO driver provides an API to configure and access the device Input/Output pins. </p>
<p>The Peripheral Driver Library(PDL) GPIO functions and other declarations used in this driver are located in cy_gpio.h. You can optionally include cy_pdl.h (ModusToolbox only) to get access to all the functions and declarations in the PDL.</p>
<p>IO pins include all general purpose types such as GPIO, SIO, HSIO, AUXIO, and their variants.</p>
<p>Initialization can be performed either at the port level or by configuring individual pins. Use the port configuration to efficiently use the code space. For the list of supported ports and pins, refer to the product device header files</p>
<ul>
<li>Single pin configuration is performed by using <a class="el" href="group__group__gpio__functions__init.html#gac0c0ed22816c4bcedfb642202f91ba72">Cy_GPIO_Pin_FastInit</a> (provide specific values) or <a class="el" href="group__group__gpio__functions__init.html#gad61553f65d4e6bd827eb6464a7913461">Cy_GPIO_Pin_Init</a> (provide a filled <a class="el" href="structcy__stc__gpio__pin__config__t.html" title="This structure is used to initialize a single GPIO pin. ">cy_stc_gpio_pin_config_t</a> structure).</li>
<li>An entire port can be configured using <a class="el" href="group__group__gpio__functions__init.html#gaece2166923613cf7abb536d8a05bfd45">Cy_GPIO_Port_Init</a>. Provide a filled <a class="el" href="structcy__stc__gpio__prt__config__t.html" title="This structure is used to initialize a port of GPIO pins. ">cy_stc_gpio_prt_config_t</a> structure. The values in the structure are bitfields representing the desired value for each pin in the port.</li>
<li>Pin configuration and management is based on the port address and pin number. <a class="el" href="group__group__gpio__functions__init.html#gab0eeafea970eadb4e147ff6d0e3804dc">Cy_GPIO_PortToAddr</a> function can optionally be used to calculate the port address from the port number at run-time.</li>
</ul>
<p>Once the pin/port initialization is complete, each pin can be accessed by specifying the port (<a class="el" href="struct_g_p_i_o___p_r_t___type.html" title="The struct type definition for the hardware register set contained in the block.  The address of a va...">GPIO_PRT_Type</a>) and the pin (0-7) in the provided API functions.</p>
<h1><a class="anchor" id="group_gpio_configuration"></a>
Configuration Considerations</h1>
<ol type="1">
<li>Pin multiplexing is controlled through the High-Speed IO Matrix (HSIOM) selection. This allows the pin to connect to signal sources/sinks throughout the device, as defined by the pin HSIOM selection options (en_hsiom_sel_t). Refer to a device-specific gpio hearder file, e.g. <em>&lt;PDL_DIR&gt;/devices/include/gpio_psoc4100sp_48_tqfp</em>.<em>h</em> and the device datasheet for the supported HSIOM options.</li>
<li>All the pins are initialized to High-Z drive mode with HSIOM connected to CPU (SW control digital pin only) at Power-On-Reset(POR).</li>
<li>Some API functions perform read-modify-write operations on shared port registers. These functions are not thread safe, so the application must call them with precaution.</li>
<li>Each pin provides a digital input buffer that provides a high-impedance buffer for external digital inputs. The input buffer is connected to the HSIOM for routing to the CPU port registers and selected peripherals. Enabling the input buffer provides the possibility to read the pin state via the CPU. If a pin is connected to an analog signal, the input buffer should be disabled to avoid crowbar currents. For detail, refer to the device TRM and device datasheet.</li>
</ol>
<p>If multiple pins on a port are updated at the same time, using direct port register writes with an appropriate port mask is more efficient than using the PDL single-pin functions. An example is shown below. Highlighted - different ways of configuring Port 1 pins using:</p>
<ul>
<li>Port output data register</li>
<li>Port output data set register</li>
<li>Port output data clear register</li>
</ul>
<div class="fragment"><div class="line">    <a class="code" href="struct_g_p_i_o___p_r_t___type.html">GPIO_PRT_Type</a>* portAddr;</div><div class="line">    uint8_t value;</div><div class="line">    </div><div class="line">    <span class="comment">/* Set the port address */</span></div><div class="line">    portAddr = GPIO_PRT1;</div><div class="line">    </div><div class="line">    <span class="comment">/* Set the drive mode to STRONG for pins P1[0], P1[2] and P1[3] (other pins in this port are HIGHZ) */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;PC, <a class="code" href="group__group__gpio__drive_modes.html#ga9e554ee7c43ac65a6d48274455b53823">CY_GPIO_DM_STRONG</a> &lt;&lt; GPIO_PRT_PC_DM0_Pos | </div><div class="line">                                <a class="code" href="group__group__gpio__drive_modes.html#ga9e554ee7c43ac65a6d48274455b53823">CY_GPIO_DM_STRONG</a> &lt;&lt; GPIO_PRT_PC_DM2_Pos | </div><div class="line">                                <a class="code" href="group__group__gpio__drive_modes.html#ga9e554ee7c43ac65a6d48274455b53823">CY_GPIO_DM_STRONG</a> &lt;&lt; GPIO_PRT_PC_DM3_Pos );</div><div class="line">    </div><div class="line">    <span class="comment">/* Set the pins P1[0], P1[2] and P1[3] to high and other pins in this port to low */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;DR, GPIO_PRT_DR_DATA0_Msk | </div><div class="line">                                GPIO_PRT_DR_DATA2_Msk | </div><div class="line">                                GPIO_PRT_DR_DATA3_Msk);</div><div class="line">    </div><div class="line">    <span class="comment">/* Set the pins P1[2] and P1[3] to low (other pins in this port are unchanged) */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;DR_CLR, GPIO_PRT_DR_DATA2_Msk | </div><div class="line">                                    GPIO_PRT_DR_DATA3_Msk);</div><div class="line">    </div><div class="line">    <span class="comment">/* Set the pin P1[3] to high again (other pins in this port are unchanged) */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;DR_SET, GPIO_PRT_DR_DATA3_Msk);</div><div class="line">    </div><div class="line">    <span class="comment">/* Read the port data (value should be 0b00001001) */</span></div><div class="line">    value = CY_GET_REG32(&amp;portAddr-&gt;DR);</div><div class="line">    (void)value;</div><div class="line"></div><div class="line">    <span class="comment">/* Set pin P1[3] to low (other pins are not impacted) */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;DR, _CLR_SET_FLD32U(portAddr-&gt;DR, GPIO_PRT_DR_DATA3, 0u));</div><div class="line">     </div><div class="line">    <span class="comment">/* Set pin P1[2] to high (other pins are not impacted) */</span></div><div class="line">    CY_SET_REG32(&amp;portAddr-&gt;DR, _CLR_SET_FLD32U(portAddr-&gt;DR, GPIO_PRT_DR_DATA2, 1u));</div></div><!-- fragment --> <h1><a class="anchor" id="group_gpio_more_information"></a>
More Information</h1>
<p>Refer to the technical reference manual (TRM) and the device datasheet.</p>
<h1><a class="anchor" id="group_gpio_MISRA"></a>
MISRA-C Compliance</h1>
<p>The GPIO driver has the following specific deviations:</p>
<table class="doxtable">
<tr>
<th>MISRA Rule </th><th>Rule Class (Required/Advisory) </th><th>Rule Description </th><th>Description of Deviation(s)  </th></tr>
<tr>
<td>10.5 </td><td>A </td><td>The value of an expression should not be cast to an inappropriate essential type. </td><td>This code is safe because value is checked before conversion to the enumeration.  </td></tr>
</table>
<h1><a class="anchor" id="group_gpio_changelog"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version</th><th>Changes</th><th>Reason for Change </th></tr>
<tr>
<td>1.0 </td><td>Initial version </td><td></td></tr>
</table>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__gpio__macros"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__gpio__macros.html">Macros</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__gpio__functions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__gpio__functions.html">Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__gpio__data__structures"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__gpio__data__structures.html">Data Structures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__gpio__enums"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__gpio__enums.html">Enumerated Types</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>PSoC 4 Peripheral Driver Library - Alpha</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
